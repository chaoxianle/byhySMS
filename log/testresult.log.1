

  ========= 测试开始 : 20221116_143819 =========



>>> cases\web\api_automation\客户API\添加客户API.py

* 没有客户，没有药品，没有订单（请求头携带登录成功的session id），添加一个客户，电话号码字段重复2次 customerAdd0106  -  2022-11-16 14:38:19

[ case setup ] 没有客户，没有药品，没有订单（请求头携带登录成功的session id），添加一个客户，电话号码字段重复2次 customerAdd0106
{
    "id": 5242,
    "ret": 0
}
{
    "id": 5243,
    "ret": 0
}
{
    "id": 5244,
    "ret": 0
}
{
    "id": 5245,
    "ret": 0
}
{
    "id": 5246,
    "ret": 0
}
{
    "id": 5247,
    "ret": 0
}
{
    "id": 5248,
    "ret": 0
}
{
    "id": 5249,
    "ret": 0
}
{
    "id": 5250,
    "ret": 0
}

  [ case execution steps ]

-- 第 1 步 -- 调用用户登录接口 

{
    "ret": 0
}

-- 第 2 步 -- 参数action：add_customer ，参数name ,"阿乐"，参数phonenumber："18193458090"，"18193458090",参数address ：甘肃省庆阳市西峰区朔州西路庆化苑二区 

{'id': 5251, 'ret': 0}

-- 第 3 步 -- 断言，返回的消息体数据正确 


** 检查点 **  返回的消息体数据正确 ---->  通过

{
    "id": 5251,
    "ret": 0
}
  PASS 

[ case_default teardown ] 没有客户，没有药品，没有订单（请求头携带登录成功的session id），添加一个客户，电话号码字段重复2次 customerAdd0106
[
    {
        "address": "甘肃省庆阳市西峰区朔州西路庆化苑二区",
        "id": 5251,
        "name": "阿乐",
        "phonenumber": "1819345809018193458090"
    },
    {
        "address": "武汉市桥西医院北路9",
        "id": 5250,
        "name": "武汉市桥西医院9",
        "phonenumber": "13345679934"
    },
    {
        "address": "武汉市桥西医院北路8",
        "id": 5249,
        "name": "武汉市桥西医院8",
        "phonenumber": "13345679934"
    },
    {
        "address": "武汉市桥西医院北路7",
        "id": 5248,
        "name": "武汉市桥西医院7",
        "phonenumber": "13345679934"
    },
    {
        "address": "武汉市桥西医院北路6",
        "id": 5247,
        "name": "武汉市桥西医院6",
        "phonenumber": "13345679934"
    },
    {
        "address": "武汉市桥西医院北路5",
        "id": 5246,
        "name": "武汉市桥西医院5",
        "phonenumber": "13345679934"
    },
    {
        "address": "武汉市桥西医院北路4",
        "id": 5245,
        "name": "武汉市桥西医院4",
        "phonenumber": "13345679934"
    },
    {
        "address": "武汉市桥西医院北路3",
        "id": 5244,
        "name": "武汉市桥西医院3",
        "phonenumber": "13345679934"
    },
    {
        "address": "武汉市桥西医院北路2",
        "id": 5243,
        "name": "武汉市桥西医院2",
        "phonenumber": "13345679934"
    },
    {
        "address": "武汉市桥西医院北路1",
        "id": 5242,
        "name": "武汉市桥西医院1",
        "phonenumber": "13345679934"
    },
    {
        "address": "上海华山路777号",
        "id": 4,
        "name": "上海人民医院",
        "phonenumber": "14456789017"
    }
]
{'address': '甘肃省庆阳市西峰区朔州西路庆化苑二区', 'id': 5251, 'name': '阿乐', 'phonenumber': '1819345809018193458090'}
{
    "ret": 0
}
{'address': '武汉市桥西医院北路9', 'id': 5250, 'name': '武汉市桥西医院9', 'phonenumber': '13345679934'}
{
    "ret": 0
}
{'address': '武汉市桥西医院北路8', 'id': 5249, 'name': '武汉市桥西医院8', 'phonenumber': '13345679934'}
{
    "ret": 0
}
{'address': '武汉市桥西医院北路7', 'id': 5248, 'name': '武汉市桥西医院7', 'phonenumber': '13345679934'}
{
    "ret": 0
}
{'address': '武汉市桥西医院北路6', 'id': 5247, 'name': '武汉市桥西医院6', 'phonenumber': '13345679934'}
{
    "ret": 0
}
{'address': '武汉市桥西医院北路5', 'id': 5246, 'name': '武汉市桥西医院5', 'phonenumber': '13345679934'}
{
    "ret": 0
}
{'address': '武汉市桥西医院北路4', 'id': 5245, 'name': '武汉市桥西医院4', 'phonenumber': '13345679934'}
{
    "ret": 0
}
{'address': '武汉市桥西医院北路3', 'id': 5244, 'name': '武汉市桥西医院3', 'phonenumber': '13345679934'}
{
    "ret": 0
}
{'address': '武汉市桥西医院北路2', 'id': 5243, 'name': '武汉市桥西医院2', 'phonenumber': '13345679934'}
{
    "ret": 0
}
{'address': '武汉市桥西医院北路1', 'id': 5242, 'name': '武汉市桥西医院1', 'phonenumber': '13345679934'}
{
    "ret": 0
}
{'address': '上海华山路777号', 'id': 4, 'name': '上海人民医院', 'phonenumber': '14456789017'}
{
    "msg": "delete DB record failed:\nFOREIGN KEY constraint failed",
    "ret": 2
}


  ========= 测试结束 : 20221116_143820 =========


  耗时    : 0.275 秒


  预备执行用例数量 : 1

  实际执行用例数量 : 1

  通过 : 1

  失败 : 0

  异常 : 0

  套件初始化失败 : 0

  套件清除  失败 : 0

  用例初始化失败 : 0

  用例清除  失败 : 0
